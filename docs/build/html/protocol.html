

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Chat Protocol Documentation &mdash; chat v1.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="chat v1.0 documentation" href="index.html" />
    <link rel="next" title="Chat GUI Documentation" href="gui.html" />
    <link rel="prev" title="Chat Server Documentation" href="server.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gui.html" title="Chat GUI Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="server.html" title="Chat Server Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">chat v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-protocol">
<span id="chat-protocol-documentation"></span><h1>Chat Protocol Documentation<a class="headerlink" href="#module-protocol" title="Permalink to this headline">¶</a></h1>
<p>Protocol</p>
<div class="section" id="module-chatprotocol">
<span id="chatprotocol"></span><h2>chatprotocol<a class="headerlink" href="#module-chatprotocol" title="Permalink to this headline">¶</a></h2>
<p>Module contains client part of classes required for connection 
between client and server.</p>
<dl class="docutils">
<dt>Exported Classes:</dt>
<dd><p class="first">ChatProtocol &#8211; provide receiving and sending messages between 
client and server</p>
<p class="last">ChatClientFactory &#8211; derives twisted.internet.protocol.ClientFactory</p>
</dd>
</dl>
<dl class="class">
<dt id="chatprotocol.ChatClientFactory">
<em class="property">class </em><tt class="descclassname">chatprotocol.</tt><tt class="descname">ChatClientFactory</tt><a class="reference internal" href="_modules/chatprotocol.html#ChatClientFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatClientFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Class ChatClientFactory derives twisted.internet.protocol.ClientFactory.</p>
<dl class="method">
<dt id="chatprotocol.ChatClientFactory.clientConnectionFailed">
<tt class="descname">clientConnectionFailed</tt><big>(</big><em>connector</em>, <em>reason</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatClientFactory.clientConnectionFailed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatClientFactory.clientConnectionFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides twisted.internet.protocol.ClientFactory.clientConnectionFailed
Create error_dlg from GUI.errordlg with the reason why connection
was failed</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatClientFactory.clientConnectionLost">
<tt class="descname">clientConnectionLost</tt><big>(</big><em>connector</em>, <em>reason</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatClientFactory.clientConnectionLost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatClientFactory.clientConnectionLost" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides twisted.internet.protocol.ClientFactory.clientConnectionFailed
Create error_dlg from GUI.errordlg with the reason why connection
was lost if it&#8217;s not close clearly.</p>
</dd></dl>

<dl class="attribute">
<dt id="chatprotocol.ChatClientFactory.protocol">
<tt class="descname">protocol</tt><a class="headerlink" href="#chatprotocol.ChatClientFactory.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#chatprotocol.ChatProtocol" title="chatprotocol.ChatProtocol"><tt class="xref py py-class docutils literal"><span class="pre">ChatProtocol</span></tt></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="chatprotocol.ChatProtocol">
<em class="property">class </em><tt class="descclassname">chatprotocol.</tt><tt class="descname">ChatProtocol</tt><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide receiving and sending messages between client and server
Class ChatProtocol derives twisted.protocol.basic.LineReceiver.</p>
<dl class="method">
<dt id="chatprotocol.ChatProtocol.change_nick">
<tt class="descname">change_nick</tt><big>(</big><em>new_nick</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.change_nick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.change_nick" title="Permalink to this definition">¶</a></dt>
<dd><p>Send NICK message to server with new nick as arguments to
change nickname.
Add callbacks on_change_nick and errback self.on_error to
self.ok_defer to catch Ok or Error message from server.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.connectionMade">
<tt class="descname">connectionMade</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.connectionMade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.connectionMade" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides twisted.protocol.basic.LineReceiver.connectionMade
Initialize Login Dialog to set host and port for connection</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.lineReceived">
<tt class="descname">lineReceived</tt><big>(</big><em>line</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.lineReceived"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.lineReceived" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides twisted.protocol.basic.LineReceiver.lineReceived
Send line to self.parser function.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.login">
<tt class="descname">login</tt><big>(</big><em>nick</em>, <em>password</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.login"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Send CONNECT message to server with nick and 
password as arguments to register exicting user.
Add callbacks self.on_login and errback self.on_login_error to
self.ok_defer to catch Ok or Error message from server.</p>
<dl class="docutils">
<dt><em>arguments:</em></dt>
<dd><p class="first">nick</p>
<p class="last">password</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.on_error">
<tt class="descname">on_error</tt><big>(</big><em>err</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.on_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when recevied error message from server.</p>
<p>Create error_dlg from GUI.errordlg with error message.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.on_login">
<tt class="descname">on_login</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.on_login"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.on_login" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when recevied OK message when user login.
Create ChatView frame from GUI.chatview.
Set self as protocol to ChatView frame.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.on_login_error">
<tt class="descname">on_login_error</tt><big>(</big><em>err</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.on_login_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.on_login_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when recevied error message from server when user login.</p>
<p>Create error_dlg from GUI.errordlg with error message.
Show again login dialog.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.on_quit">
<tt class="descname">on_quit</tt><big>(</big><em>bye</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.on_quit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.on_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when user try to close program.
Send QUIT message to server with last message as argument.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.parser">
<tt class="descname">parser</tt><big>(</big><em>line</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse line to tuple of prefix, command and message.
Call a function due to command.</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.recd_error">
<tt class="descname">recd_error</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.recd_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.recd_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when received ERROR command from server.</p>
<p>Callback error to self.ok_defer with an error description</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.recd_msg">
<tt class="descname">recd_msg</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.recd_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.recd_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when received MSG command from server.
Call OnUpdateChatView method of gui with arguments:
sender, destination and text message</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.recd_names">
<tt class="descname">recd_names</tt><big>(</big><em>names</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.recd_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.recd_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when received NAMES command from server.</p>
<p>Call OnUpdateContactList method of gui with arguments:
names - list of online users</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.recd_ok">
<tt class="descname">recd_ok</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.recd_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.recd_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when received OK command from server.</p>
<p>Callback &#8216;OK&#8217; to self.ok_defer</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.recd_service_msg">
<tt class="descname">recd_service_msg</tt><big>(</big><em>arg</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.recd_service_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.recd_service_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when received SERVICE command wrom server.</p>
<p>Call OnServiceChatView method of gui with arguments:
sender
service text</p>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.send_msg">
<tt class="descname">send_msg</tt><big>(</big><em>line</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.send_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.send_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Send broadcast message to server if destination unknown.
Send direct message if line starts with &#64;nickname and nickname
contains in list of online users.</p>
<dl class="docutils">
<dt><em>atributes:</em></dt>
<dd>line</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="chatprotocol.ChatProtocol.signin">
<tt class="descname">signin</tt><big>(</big><em>nick</em>, <em>password</em><big>)</big><a class="reference internal" href="_modules/chatprotocol.html#ChatProtocol.signin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#chatprotocol.ChatProtocol.signin" title="Permalink to this definition">¶</a></dt>
<dd><p>Send NEW message to server with nick and 
password as arguments to register new user.
Add callbacks self.on_login and errback self.on_login_error to
self.ok_defer to catch Ok or Error message from server.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-serverprotocol">
<span id="serverprotocol"></span><h2>serverprotocol<a class="headerlink" href="#module-serverprotocol" title="Permalink to this headline">¶</a></h2>
<p>A chat server protocol and factory classes</p>
<p>Exported classes :</p>
<dl class="docutils">
<dt>chatProtocolFactory &#8211; this class is inheritor of </dt>
<dd>twisted.internet.protocol.ServerFactory class</dd>
</dl>
<dl class="class">
<dt id="serverprotocol.ChatProtocol">
<em class="property">class </em><tt class="descclassname">serverprotocol.</tt><tt class="descname">ChatProtocol</tt><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>This class realize server-client relations (for each one client)
Inherits from twisted.protocols.basic.LineOnlyReceiver class</p>
<p>Class data attributes :</p>
<p>nickname &#8211; string-type user nick that used for identitification client in chat</p>
<dl class="docutils">
<dt>Override methods :</dt>
<dd><p class="first">connectionMade &#8211; callback, calls when user connected to server</p>
<p>conectionLost &#8211; callback, calls when user disconnected from server</p>
<p class="last">lineReceived &#8211; callback, calls when server received some data from user</p>
</dd>
</dl>
<dl class="method">
<dt id="serverprotocol.ChatProtocol.connectionLost">
<tt class="descname">connectionLost</tt><big>(</big><em>reason</em><big>)</big><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocol.connectionLost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocol.connectionLost" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback, calls each time when client disconnected from server</p>
</dd></dl>

<dl class="method">
<dt id="serverprotocol.ChatProtocol.connectionMade">
<tt class="descname">connectionMade</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocol.connectionMade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocol.connectionMade" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback, calls each time when client connected to server</p>
</dd></dl>

<dl class="method">
<dt id="serverprotocol.ChatProtocol.lineReceived">
<tt class="descname">lineReceived</tt><big>(</big><em>line</em><big>)</big><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocol.lineReceived"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocol.lineReceived" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback, calls each time when client recieved data from client
Data must be the correct command
Function calls parser for this command and 
than calls command handler fucntion
If command is not correct, function raises exception</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="serverprotocol.ChatProtocolFactory">
<em class="property">class </em><tt class="descclassname">serverprotocol.</tt><tt class="descname">ChatProtocolFactory</tt><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocolFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocolFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>This class stores a server configurations
Inherits from twisted.internet.protocol.ServerFactory class</p>
<p>Class data attributes :</p>
<p>protocol &#8211; name of the protocol class for server
filename &#8211; string-type name of file where saves informations about chat users</p>
<p>Override methods :</p>
<blockquote>
<div>__init__ &#8211; constuctor, calls one time when class is created</div></blockquote>
<p>Public methods :</p>
<blockquote>
<div><p>registerNewUser &#8211;  calls when client is connected to server</p>
<p>destroyUser &#8211; calls when client is disconnected from server</p>
</div></blockquote>
<p>Example attributes :</p>
<blockquote>
<div><dl class="docutils">
<dt>clientProtocols &#8211; list of connected in this time clients.</dt>
<dd>Contents their protocols</dd>
<dt>activeUsers &#8211; list of active in this time chat users.</dt>
<dd>There are protocols of authorized clients.</dd>
</dl>
<p>accountsData &#8211; example of class which realize control of users information</p>
</div></blockquote>
<dl class="method">
<dt id="serverprotocol.ChatProtocolFactory.destroyUser">
<tt class="descname">destroyUser</tt><big>(</big><em>protocol</em><big>)</big><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocolFactory.destroyUser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocolFactory.destroyUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Method deletes protocol from connected client&#8217;s protocols</p>
</dd></dl>

<dl class="attribute">
<dt id="serverprotocol.ChatProtocolFactory.protocol">
<tt class="descname">protocol</tt><a class="headerlink" href="#serverprotocol.ChatProtocolFactory.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#serverprotocol.ChatProtocol" title="serverprotocol.ChatProtocol"><tt class="xref py py-class docutils literal"><span class="pre">ChatProtocol</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="serverprotocol.ChatProtocolFactory.registerNewUser">
<tt class="descname">registerNewUser</tt><big>(</big><em>protocol</em><big>)</big><a class="reference internal" href="_modules/serverprotocol.html#ChatProtocolFactory.registerNewUser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ChatProtocolFactory.registerNewUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Method adds protocol to other connected client&#8217;s protocols</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="serverprotocol.ExUnknownCommand">
<em class="property">exception </em><tt class="descclassname">serverprotocol.</tt><tt class="descname">ExUnknownCommand</tt><a class="reference internal" href="_modules/serverprotocol.html#ExUnknownCommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serverprotocol.ExUnknownCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for exception which raises when server got incorrect command</p>
</dd></dl>

</div>
<div class="section" id="module-base_cmd">
<span id="base-cmd"></span><h2>base_cmd<a class="headerlink" href="#module-base_cmd" title="Permalink to this headline">¶</a></h2>
<p>A Server Protocol library, contains a command handlers</p>
<p>Export data :</p>
<blockquote>
<div><dl class="docutils">
<dt>commands &#8211; kind of {COMMAND: handlerFunctionName} dictionary</dt>
<dd>that links each command with her handler function</dd>
</dl>
</div></blockquote>
<p>Export functions :</p>
<blockquote>
<div><dl class="docutils">
<dt>closeProtocol &#8211; this procedure makes an actions which must be made</dt>
<dd>when user leaves the Server</dd>
</dl>
</div></blockquote>
<dl class="exception">
<dt id="base_cmd.ExClass">
<em class="property">exception </em><tt class="descclassname">base_cmd.</tt><tt class="descname">ExClass</tt><a class="reference internal" href="_modules/base_cmd.html#ExClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.ExClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for any command handler function exceptions</p>
</dd></dl>

<dl class="exception">
<dt id="base_cmd.ExIncorrectData">
<em class="property">exception </em><tt class="descclassname">base_cmd.</tt><tt class="descname">ExIncorrectData</tt><a class="reference internal" href="_modules/base_cmd.html#ExIncorrectData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.ExIncorrectData" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for err_incorrect_data error in 
CONNECT and NICK and NEW commands</p>
</dd></dl>

<dl class="exception">
<dt id="base_cmd.ExUserExist">
<em class="property">exception </em><tt class="descclassname">base_cmd.</tt><tt class="descname">ExUserExist</tt><a class="reference internal" href="_modules/base_cmd.html#ExUserExist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.ExUserExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for err_user_exist error in 
NEW and NICK commands</p>
</dd></dl>

<dl class="function">
<dt id="base_cmd.closeProtocol">
<tt class="descclassname">base_cmd.</tt><tt class="descname">closeProtocol</tt><big>(</big><em>protocol</em>, <em>arg=''</em><big>)</big><a class="reference internal" href="_modules/base_cmd.html#closeProtocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.closeProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>This procedure makes an actions which must be made 
when user leaves the Server</p>
<p>Arguments :</p>
<blockquote>
<div><p>protocol &#8211; client protocol of leaving user</p>
<p>arg &#8211; string-type farewall message of leaving user</p>
</div></blockquote>
<p>Result :</p>
<blockquote>
<div>Deacivate this user
Send service message to all active users
Refresh users-lists for all active users in chat
If user send farewall message it send with service message</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="base_cmd.command">
<em class="property">class </em><tt class="descclassname">base_cmd.</tt><tt class="descname">command</tt><big>(</big><em>cmd</em><big>)</big><a class="reference internal" href="_modules/base_cmd.html#command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.command" title="Permalink to this definition">¶</a></dt>
<dd><p>An interface for addition elements in commands dictionary</p>
</dd></dl>

<dl class="function">
<dt id="base_cmd.refreshNicks">
<tt class="descclassname">base_cmd.</tt><tt class="descname">refreshNicks</tt><big>(</big><em>factory</em><big>)</big><a class="reference internal" href="_modules/base_cmd.html#refreshNicks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.refreshNicks" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh users-lists for all active users in chat</p>
</dd></dl>

<dl class="function">
<dt id="base_cmd.sendErrorMessage">
<tt class="descclassname">base_cmd.</tt><tt class="descname">sendErrorMessage</tt><big>(</big><em>protocol</em>, <em>error</em><big>)</big><a class="reference internal" href="_modules/base_cmd.html#sendErrorMessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.sendErrorMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>This procedure sends any kind of error-information to user</p>
<p>Arguments :</p>
<blockquote>
<div><p>protocol &#8211; client protocol of user-reciever error message</p>
<dl class="docutils">
<dt>error &#8211; string-literal error key. </dt>
<dd>error message is a value of this key in error dictionary</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="base_cmd.sendServiceMessage">
<tt class="descclassname">base_cmd.</tt><tt class="descname">sendServiceMessage</tt><big>(</big><em>factory</em>, <em>nick</em>, <em>text</em><big>)</big><a class="reference internal" href="_modules/base_cmd.html#sendServiceMessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.sendServiceMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>This procedure sends any kind of service-information to all active users</p>
<p>Arguments :</p>
<blockquote>
<div><p>factory &#8211; the server protocol factory that contains info of activeusers</p>
<p>nick &#8211; string-type user nick which is object of service information</p>
<p>text &#8211; string-type service message</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="base_cmd.successConnect">
<tt class="descclassname">base_cmd.</tt><tt class="descname">successConnect</tt><big>(</big><em>protocol</em>, <em>nick</em><big>)</big><a class="reference internal" href="_modules/base_cmd.html#successConnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#base_cmd.successConnect" title="Permalink to this definition">¶</a></dt>
<dd><p>This procedure calls when user entered the chat</p>
<p>Arguments :</p>
<blockquote>
<div><p>protocol &#8211; the protocol of authorized user</p>
<p>nick &#8211; string-type user&#8217;s nick</p>
</div></blockquote>
<p>Result :</p>
<blockquote>
<div><p>-set the user nick</p>
<p>-send &#8216;OK&#8217; message for client</p>
<p>-allows using the chat for user</p>
<p>-send service-information message to other users in chat</p>
<p>-refresh users-lists for all active users</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-accounts_class">
<span id="accounts-class"></span><h2>accounts_class<a class="headerlink" href="#module-accounts_class" title="Permalink to this headline">¶</a></h2>
<p>Module contains a simple class which realize interface for work with
server information about users : logins and passwords restiored in file</p>
<p>Export classes :</p>
<blockquote>
<div>AccountsClass</div></blockquote>
<dl class="class">
<dt id="accounts_class.AccountsClass">
<em class="property">class </em><tt class="descclassname">accounts_class.</tt><tt class="descname">AccountsClass</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/accounts_class.html#AccountsClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#accounts_class.AccountsClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Realize simple interface for work with
server information about users</p>
<p>Contruct for input name of the file with data</p>
<p>Publec methods :</p>
<blockquote>
<div><dl class="docutils">
<dt>get_acc_list &#8211; method returns list of strings that contains </dt>
<dd>login and password for chat user</dd>
</dl>
<p>add_acc &#8211; method adds new account, restores login and password of new user</p>
</div></blockquote>
<dl class="method">
<dt id="accounts_class.AccountsClass.add_acc">
<tt class="descname">add_acc</tt><big>(</big><em>lgn</em>, <em>psswrd</em><big>)</big><a class="reference internal" href="_modules/accounts_class.html#AccountsClass.add_acc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#accounts_class.AccountsClass.add_acc" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new string in server data file and restores
login and password of new user there</p>
</dd></dl>

<dl class="method">
<dt id="accounts_class.AccountsClass.get_acc_list">
<tt class="descname">get_acc_list</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/accounts_class.html#AccountsClass.get_acc_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#accounts_class.AccountsClass.get_acc_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data file and returns list of strings of file</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-parser">
<span id="parser"></span><h2>parser<a class="headerlink" href="#module-parser" title="Permalink to this headline">¶</a></h2>
<p>This is an interface to Python&#8217;s internal parser.</p>
<dl class="attribute">
<dt id="parser.ASTType">
<tt class="descclassname">parser.</tt><tt class="descname">ASTType</tt><a class="headerlink" href="#parser.ASTType" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">st</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="parser.STType">
<tt class="descclassname">parser.</tt><tt class="descname">STType</tt><a class="headerlink" href="#parser.STType" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">st</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="parser.ast2list">
<tt class="descclassname">parser.</tt><tt class="descname">ast2list</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.ast2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list-tree representation of an ST.</p>
</dd></dl>

<dl class="function">
<dt id="parser.ast2tuple">
<tt class="descclassname">parser.</tt><tt class="descname">ast2tuple</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.ast2tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a tuple-tree representation of an ST.</p>
</dd></dl>

<dl class="function">
<dt id="parser.compileast">
<tt class="descclassname">parser.</tt><tt class="descname">compileast</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.compileast" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles an ST object into a code object.</p>
</dd></dl>

<dl class="function">
<dt id="parser.compilest">
<tt class="descclassname">parser.</tt><tt class="descname">compilest</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.compilest" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles an ST object into a code object.</p>
</dd></dl>

<dl class="function">
<dt id="parser.expr">
<tt class="descclassname">parser.</tt><tt class="descname">expr</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an ST object from an expression.</p>
</dd></dl>

<dl class="function">
<dt id="parser.isexpr">
<tt class="descclassname">parser.</tt><tt class="descname">isexpr</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.isexpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if an ST object was created from an expression.</p>
</dd></dl>

<dl class="function">
<dt id="parser.issuite">
<tt class="descclassname">parser.</tt><tt class="descname">issuite</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.issuite" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if an ST object was created from a suite.</p>
</dd></dl>

<dl class="function">
<dt id="parser.sequence2ast">
<tt class="descclassname">parser.</tt><tt class="descname">sequence2ast</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.sequence2ast" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an ST object from a tree representation.</p>
</dd></dl>

<dl class="function">
<dt id="parser.sequence2st">
<tt class="descclassname">parser.</tt><tt class="descname">sequence2st</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.sequence2st" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an ST object from a tree representation.</p>
</dd></dl>

<dl class="function">
<dt id="parser.st2list">
<tt class="descclassname">parser.</tt><tt class="descname">st2list</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.st2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list-tree representation of an ST.</p>
</dd></dl>

<dl class="function">
<dt id="parser.st2tuple">
<tt class="descclassname">parser.</tt><tt class="descname">st2tuple</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.st2tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a tuple-tree representation of an ST.</p>
</dd></dl>

<dl class="function">
<dt id="parser.suite">
<tt class="descclassname">parser.</tt><tt class="descname">suite</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.suite" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an ST object from a suite.</p>
</dd></dl>

<dl class="function">
<dt id="parser.tuple2ast">
<tt class="descclassname">parser.</tt><tt class="descname">tuple2ast</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.tuple2ast" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an ST object from a tree representation.</p>
</dd></dl>

<dl class="function">
<dt id="parser.tuple2st">
<tt class="descclassname">parser.</tt><tt class="descname">tuple2st</tt><big>(</big><big>)</big><a class="headerlink" href="#parser.tuple2st" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an ST object from a tree representation.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Chat Protocol Documentation</a><ul>
<li><a class="reference internal" href="#module-chatprotocol">chatprotocol</a></li>
<li><a class="reference internal" href="#module-serverprotocol">serverprotocol</a></li>
<li><a class="reference internal" href="#module-base_cmd">base_cmd</a></li>
<li><a class="reference internal" href="#module-accounts_class">accounts_class</a></li>
<li><a class="reference internal" href="#module-parser">parser</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="server.html"
                        title="previous chapter">Chat Server Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gui.html"
                        title="next chapter">Chat GUI Documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/protocol.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gui.html" title="Chat GUI Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="server.html" title="Chat Server Documentation"
             >previous</a> |</li>
        <li><a href="index.html">chat v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, M. Verzakov.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>